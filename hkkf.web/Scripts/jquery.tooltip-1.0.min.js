/*
* tooltip 1.0
* Copyright 2010, 济南捷诺软件技术有限公司
* 陆大鹏
* 2010年6月3日14:09:17
*/
(function(e){function b(i){var f,m,j,o,g,n,h,l,k;m=i.target;o=e.data(m,"tooltip");f=o.link.attr("href");if(f===""||f===null||f==="#"){o.tooltip=null;return}if(o.url!=f&&o.tooltip!==null){o.tooltip.remove();o.tooltip=null}o.url=f;if(o.tooltip===null){o.tooltip=e("<div>").addClass("tooltip").append(e("<div>").addClass("head")).append(e("<div>").addClass("body")).appendTo("body");e.post(f,function(p){o.tooltip.find(".body").html(p)})}j=o.link.offset();k=e("body").outerWidth();g=o.tooltip.outerWidth();n=o.tooltip.outerHeight();h=j.left+o.link.outerWidth();if(h+g>k){h-=g-e(m).outerWidth()}l=j.top+m.offsetHeight;o.tooltip.css({left:h,top:l}).stop().fadeIn().fadeIn()}function a(h){var g,f;g=h.target;f=e.data(g,"tooltip");if(f.tooltip){f.tooltip.stop().delay(100).fadeOut().css({opacity:"show"})}}function d(g,f){f.url="";f.link=e(g);f.tooltip=null;f.link.hover(b,a)}function c(g,h){var f=e.data(g,"valuebox");if(f===null){return}e.each(h,function(i,j){f[i]=j})}e.fn.tooltip=function(i,g,f){if(typeof i==="string"){if(i=="options"&&typeof arguments[1]=="object"){var h=g;return this.each(function(){c(this,h)})}return this}else{return this.each(function(){if(e.data(this,"tooltip")!==null&&e.data(this,"tooltip")!==undefined){return}var j=e.extend({},e.fn.tooltip.defaults,i||{});e.data(this,"tooltip",j);d(this,j)})}};e.fn.tooltip.defaults={}})(jQuery);